---
title: "Analyses of daily COVID-19 cases across nations"
author: "Group11: Sibei Liu, Xue Jin, Yuchen Qi, Xinru Wang"
date: "05/01/2020"
output:
  pdf_document:
    latex_engine: xelatex
---

# Introduction
## COVID-19
Since it‘s first outbreak in January, the novel coronavirus (COVID-19) has been spreading rapidly through China and expanded to touch nearly every corner of the globe. Hundreds of thousands of people around the world have been sickened and over 200,000 have died. Efforts to contain the spread of the Covid-19 pandemic are now the top priority of governments. To make scientific decisions, such as quarantine, active monitoring, border controls, and lockdown, it is particularly crucial for policymakers to accurately predict how the spread of COVID-19 will change over time. 

A logistic growth curve can be an effective way to capture the trajectory of cumulative cases  of COVID-19. Characterized by an S-shaped curve, logistic growth model is approximately exponential at first, and growth rate  accelerates as it approaches the midpoint of the curve but  begins to decelerate as it approaches the model’s upper bound, called the carrying capacity.
In the COVID-19 case, The more people who have the virus, the more rapidly it spreads, and the growth will necessarily diminish  when everybody is sick, which make the logistic model a good one to study the spread. In particular, this maximum limit would be the maximum number of cases a region can reach denoted by a. The t is the days since the first infection found. The b is the growth rate. And the c is the mid-point when the cumulative cases reach a/2.

$$f(t)=\frac{a}{1+exp{-b(t-c)}}$$

## Objectives
To help predict future spread of  Covid-19 and to identify risk factors, our project aims to fit a logistic curve to the cumulative confirmed COVID-19 cases in each region of the world by developing an optimization algorithm and implement  K-mean and Gaussian mixture model
 (with EM algorithm) to cluster these curves based on the fitted parameters. 

## Dataset 
The dataset is a a subset of the open data, which contains the cumulative number of confirmed cases and death of COVID-19 from Jan 21 to March 23 from 163 countries/regions. Eight variables are recorded as following: 

* Id: Record ID
* Province/State:   The lcoal state/province of the record; 
* Country/Region:  The country/regiono of the record;
* Lat: Lattudiute of the record;
* Long: Longitude of the record;
* Date: Date of the record; 
* ConfirmedCases: The number of confirmed case on that day;
* Fatalities: The number of death on that day;

We filter the countries that have confirmed cases greater 20 to fit the logistic curve. So in total only 116 coutries are used.

# Statistical Methods 

## Adam Algorithm


## EM Algorithm

# Result

# Discussion

## Task 1: 

For most regions, the logistic curve is a reasonable model for fitting the cumulative cases, capturing the growth rate trend. However, when it comes to predicting future new cases, the logistic growth model has limitations, especially for this dataset. For example, China and Korea are predicted to have reached the upper bound, but the predicted number of cases after May 25 exceeds the estimated maximum. For China, one possible explanation is that imported cases of novel coronavirus pneumonia account for this increasing trend, but our model fails to include the fluence outside a certain region, assuming each region is independent. As for Korea, a seemly second wave of infection may be the result of “returning to normal life” and some citizens’ ignoring social distancing. An alternative explanation is that the decreasing trend of growth rate based on the training data is attributed to Korea’s rapidly responding to and mitigating the spread of this epidemic, but the maximum has not yet been reached. Piecewise functions may be suitable for such cases. In Afghanistan, UK and US, the growth rate after March 24 is much larger than the predicted one, which may be explained by the absence and inefficiency of intervention strategies. Generally, we cannot add the effect of factors such as public health interventions, newly developed treatments and vaccinations, and other regions’ conditions outside a specific region, to this modeling process. Another factor needs to mention is that the data itself may not be accurate, that is the number of cases reported for a certain date may be smaller than the truth, as some cases may have not been tested or they may be tested falsely negative. 

Although the limitations of a logistic curve may account for the discrepancy between the fitted curve and the recorded number for some regions, it is still useful for prediction when the date is not far away from the latest date in the training data in most circumstances based on our test result. When the recorded number of cases significantly exceeds the prediction, it may be necessary to consider whether social factors such as improper interventions exist, and use this to guide future strategies for controlling this disease.

Several optimization algorithms were implemented when fitting the curve. The Newton–Raphson method was considered for its fast convergence rate. AS it was not easy to calculate the hessian matrix of the RSS for the original form of the parametric function, we transformed y and a to be the inverse. However, the starting values for this algorithm have a significant impact on the result, as the Newton method tends to find the local minimizer instead of the global one, which is especially a severe problem for non-linear least squares regression. To reduce the effect of this limitation, we considered adding the momentum when doing iteration. The final algorithm chosen is Adam, as it adopts an adaptive per-coordinate learning rate selection method and dampens oscillations. Adam may lead to the optimal solution, however it needs a large number of iterations which exceeds our computer capacity, thus our fitting may not minimize the RSS, resulting in an inaccurate prediction.


## Task 2

# Conclusions


\clearpage

# Figures

```{r , echo=FALSE, fig.cap="Identification ratio when number of weak predictors increase", out.width='90%', fig.pos='h', fig.align = "center"}

```

```{r , echo=FALSE, fig.cap="Distribution of identification ratio of Null/Strong/WAI/WBC predictors at different numbers", out.width='90%', fig.pos='h', fig.align = "center"}

```

